<div class="h-full flex flex-col">
  <style>
    .hover-highlight {
      position: relative;
    }
    .hover-highlight::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: rgba(255, 255, 255, 0);
      pointer-events: none;
      transition: background-color 0.1s ease;
    }
    .hover-highlight:hover::after {
      background-color: rgba(255, 255, 255, 0.1);
    }
  </style>
  <div class="flex-1 min-h-0 relative">
    <div class="absolute inset-0 table-container overflow-auto">
      <table class="min-w-full divide-y divide-gray-700">
        <thead [style.background-color]="card.configuration?.visualConfig.headerBackgroundColor">
          <tr>
            <th *ngFor="let column of getVisibleColumns()" 
                [ngClass]="{
                  'text-left': column.alignment === 'left',
                  'text-center': column.alignment === 'center',
                  'text-right': column.alignment === 'right'
                }"
                [style.color]="card.configuration?.visualConfig.headerTextColor"
                [class.py-3]="!card.configuration?.visualConfig.isCompactMode"
                [class.py-1]="card.configuration?.visualConfig.isCompactMode"
                class="px-6 text-xs font-medium uppercase tracking-wider">
              {{ getColumnLabel(column) }}
            </th>
          </tr>
        </thead>
        <tbody class="divide-y divide-gray-700">
          <tr *ngIf="loading" class="animate-pulse">
            <td [attr.colspan]="getVisibleColumnsCount()" class="px-6 py-4">
              <div class="h-4 bg-gray-700 rounded w-3/4"></div>
            </td>
          </tr>
          <tr *ngIf="!loading && (!data || data.length === 0)" class="text-center">
            <td [attr.colspan]="getVisibleColumnsCount()" class="px-6 py-4 text-gray-400">
              {{ 'NO_DATA' | translate }}
            </td>
          </tr>
          <tr *ngFor="let row of data; let i = index" 
              [ngStyle]="{ 
                'background-color': card.configuration?.visualConfig.alternateRowColors && card.configuration?.visualConfig.alternateRowsBrightness > 0 && i % 2 === 0 ? adjustColor(card.configuration?.visualConfig.rowBackgroundColor, card.configuration?.visualConfig.alternateRowsBrightness) : card.configuration?.visualConfig.rowBackgroundColor,
                'color': card.configuration?.visualConfig.alternateRowColors && card.configuration?.visualConfig.alternateRowsBrightness > 0 && i % 2 === 0 ? adjustColor(card.configuration?.visualConfig.rowTextColor, -card.configuration?.visualConfig.alternateRowsBrightness) : card.configuration?.visualConfig.rowTextColor
              }"
              class="border-b border-gray-700 hover-highlight">
            <td *ngFor="let column of getVisibleColumns()" 
                [ngClass]="{
                  'text-left': column.alignment === 'left',
                  'text-center': column.alignment === 'center',
                  'text-right': column.alignment === 'right'
                }"
                [class.py-4]="!card.configuration?.visualConfig.isCompactMode"
                [class.py-1]="card.configuration?.visualConfig.isCompactMode"
                class="px-6 whitespace-nowrap text-sm">
              {{ getColumnValue(row, column) }}
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div> 