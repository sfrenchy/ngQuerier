<div
  class="bg-gray-900 border border-gray-600 rounded-lg shadow-[0_0_15px_rgba(0,0,0,0.3),0_0_5px_rgba(0,0,0,0.3)] backdrop-blur-sm p-4 min-w-[250px] ring-1 ring-white/10">
  <!-- Header -->
  <div class="flex justify-between items-center mb-4 border-b border-gray-700 pb-3">
    <h3 class="text-lg font-medium text-gray-100">
      {{ localParameter?.displayName || localParameter?.name || data.column }}
    </h3>
    <button
      (click)="close.emit()"
      class="text-gray-400 hover:text-gray-200 transition-colors hover:bg-gray-800 p-1 rounded-full">
      <span class="sr-only">Close</span>
      <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path d="M6 18L18 6M6 6l12 12" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/>
      </svg>
    </button>
  </div>

  <!-- Description -->
  <p *ngIf="parameter?.description" class="text-sm text-gray-300 mb-4 px-1">
    {{ parameter.description }}
  </p>

  <!-- Input controls -->
  <div *ngIf="localParameter" class="space-y-4">
    <!-- Column selector -->
    <div *ngIf="data.availableColumns" class="space-y-2">
      <label class="block text-sm font-medium text-gray-200 px-1">
        {{ 'PARAMETERS.COLUMN' | translate }}
      </label>
      <div class="relative">
        <select (ngModelChange)="onColumnChange($event)"
                [(ngModel)]="selectedColumn"
                class="block w-full rounded-md bg-gray-800 border-gray-600 text-gray-200
                       focus:border-primary-500 focus:ring-primary-500
                       appearance-none pr-8 pl-3 py-2">
          <option *ngFor="let col of data.availableColumns"
                  [value]="col.name">
            {{ col.displayName }}
          </option>
        </select>
        <div class="absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none">
          <svg class="h-4 w-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path d="M19 9l-7 7-7-7" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/>
          </svg>
        </div>
      </div>
    </div>
  </div>
</div>
